<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>KOMBO æŠ€èƒ½å‡ç´šæ¨¡æ“¬å™¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { 
      font-family: Arial, sans-serif; 
      background-image: url('èƒŒæ™¯.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      padding: 20px; margin: 0; text-align: center; 
    }
    .logo { width: 120px; margin: 10px auto; }
    .kcoin { font-size: 24px; color: #004080; margin-bottom: 20px; }
    .skill-block { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
    .skill-name { font-size: 18px; color: #004080; width: 30%; text-align: left; }
    .skill-level { font-size: 18px; width: 20%; }
    .btn-group { display: flex; gap: 5px; width: 50%; justify-content: flex-end; }
    .btn { 
      background: #f60; color: white; border: none; padding: 8px; 
      border-radius: 5px; cursor: pointer; width: 50%; 
    }
    .btn.downgrade { background: #888; }
    .btn:disabled { background: #ccc; cursor: not-allowed; }
    .product-recommend { margin-top: 30px; border-top: 1px solid #ddd; padding-top: 20px; text-align: left; }
    .product img { width: 80%; max-width: 200px; border-radius: 10px; }
    .product h3 { margin: 10px 0 5px; color: #333; }
    .product p { margin: 0 0 10px; line-height: 1.4; }
    .product a { 
      display: inline-block; margin-top: 8px; padding: 6px 12px; 
      background: #0066cc; color: white; border-radius: 6px; text-decoration: none; 
      font-size: 14px;
    }
    .tools { margin-top: 30px; }
    .tools button { 
      margin: 5px; padding: 10px 15px; font-size: 14px; 
      cursor: pointer; border-radius: 5px; border: none; background: #0066cc; color: white; 
    }
  </style>
</head>
<body>

  <!-- é–‹å ´å½ˆçª— -->
  <div id="introModal" style="
      position:fixed; top:0; left:0; width:100vw; height:100vh;
      background:white; z-index:9999; padding:30px; box-sizing:border-box;
      display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:left;
    ">
    <div style="max-width:500px">
      <h2 style="color:#f60; margin-bottom:10px;">ğŸ® KOMBO æŠ€èƒ½å‡ç´šæ¨¡æ“¬å™¨</h2>
      <p><strong>éŠç©å‰çš„æ³¨æ„äº‹é …ï¼š</strong></p>
      <ol style="margin-left:20px;">
        <li>æ­¤è©•åˆ†ç³»çµ±åƒ…ä¾›åƒè€ƒï¼Œç‚º KOMBO çš„å…§éƒ¨çµ±è¨ˆè³‡æ–™ï¼Œä¸ä»£è¡¨æ¯ä½çƒå‹çš„å¯¦éš›ä½¿ç”¨æ„Ÿå—ï¼Œè«‹å¸¶è‘—è¼•é¬†çš„å¿ƒæƒ…éŠç©ï¼</li>
        <li>æ‰€æœ‰åƒ¹æ ¼ç‚º <strong>2025.6.11</strong> çµ±è¨ˆä¹‹çµæœï¼Œè‹¥æœªä¾†æ¯›ç‰‡æˆæœ¬æˆ–å”®åƒ¹èª¿æ•´ï¼Œåˆå§‹é‡‘é¡ä¹Ÿæœƒæœ‰æ‰€è®Šå‹•ã€‚å°ç·¨æœƒç›¡é‡æ›´æ–°ï¼Œä½†çœŸçš„æœ‰æ™‚å€™æ²’ç©ºå•¦ï¼Œé‚„è«‹å¤§å®¶è¦‹è«’ï¼</li>
      </ol>
      <p>ğŸ“© æœ‰ä»»ä½•å»ºè­°æ­¡è¿åˆ°  
        <a href="https://www.instagram.com/kombo_2023?igsh=bGU4dGdia3F5NWM5&utm_source=qr" target="_blank"
           style="color:#0066cc; font-weight:bold; text-decoration:underline;">
           KOMBO IG
        </a> ç§è¨Šæˆ‘å€‘å–”ï¼
      </p>
      <div style="text-align:center; margin-top:20px;">
        <button onclick="startGame()" style="
          background:#f60; color:white; padding:10px 20px; border:none; border-radius:8px; 
          font-size:16px; cursor:pointer;
        ">åŒæ„</button>
      </div>
    </div>
  </div>

  <!-- LOGO èˆ‡ K å¹£é¡¯ç¤º -->
  <img src="LOGO.jpg" class="logo" alt="KOMBO Logo">
  <div class="kcoin">ç›®å‰å·²èŠ±è²» Kå¹£ï¼š<span id="kcoin">450</span></div>

  <!-- æ‰‹æ„Ÿã€è€æ‰“ã€é£›è¡Œã€å¤–è§€ å››é …æŠ€èƒ½ -->
  <div class="skill-block">
    <div class="skill-name">æ‰‹æ„Ÿ</div>
    <div class="skill-level" id="lv-touch">Lv.1</div>
    <div class="btn-group">
      <button class="btn" id="up-touch" onclick="upgrade('touch')">å‡ç´šï¼ˆ+10 Kå¹£ï¼‰</button>
      <button class="btn downgrade" onclick="downgrade('touch')">é™ç´šï¼ˆ-10 Kå¹£ï¼‰</button>
    </div>
  </div>
  <div class="skill-block">
    <div class="skill-name">è€æ‰“</div>
    <div class="skill-level" id="lv-durability">Lv.1</div>
    <div class="btn-group">
      <button class="btn" id="up-durability" onclick="upgrade('durability')">å‡ç´šï¼ˆ+10 Kå¹£ï¼‰</button>
      <button class="btn downgrade" onclick="downgrade('durability')">é™ç´šï¼ˆ-10 Kå¹£ï¼‰</button>
    </div>
  </div>
  <div class="skill-block">
    <div class="skill-name">é£›è¡Œ</div>
    <div class="skill-level" id="lv-flight">Lv.1</div>
    <div class="btn-group">
      <button class="btn" id="up-flight" onclick="upgrade('flight')">å‡ç´šï¼ˆ+10 Kå¹£ï¼‰</button>
      <button class="btn downgrade" onclick="downgrade('flight')">é™ç´šï¼ˆ-10 Kå¹£ï¼‰</button>
    </div>
  </div>
  <div class="skill-block">
    <div class="skill-name">å¤–è§€</div>
    <div class="skill-level" id="lv-look">Lv.1</div>
    <div class="btn-group">
      <button class="btn" id="up-look" onclick="upgrade('look')">å‡ç´šï¼ˆ+10 Kå¹£ï¼‰</button>
      <button class="btn downgrade" onclick="downgrade('look')">é™ç´šï¼ˆ-10 Kå¹£ï¼‰</button>
    </div>
  </div>

  <!-- ä¸‹æ–¹å·¥å…·æŒ‰éˆ• -->
  <div class="tools">
    <button onclick="copyShareText()">ğŸ“‹ è¤‡è£½åˆ†äº«å…§å®¹</button>
    <button onclick="resetAll()">ğŸ”„ é‡ç½®</button>
    <button onclick="toggleSound()">ğŸ”ˆ åˆ‡æ›éŸ³æ•ˆ</button>
  </div>

  <!-- æ¨è–¦ç”¢å“é¡¯ç¤ºå€ -->
  <div class="product-recommend" id="productDisplay"></div>

  <!-- é»æ“ŠéŸ³æ•ˆ -->
  <audio id="clickSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f7998b6be6.mp3?filename=click-124467.mp3"></audio>

  <script>
    // ä¸€é–‹å§‹æŠŠ localStorage æ¸…æ‰ï¼Œä¸¦è¨­å®šåˆå§‹å€¼
    localStorage.removeItem('kombo_skills');
    let kcoin = 450;
    const maxLevel = 5;
    const skills = { touch: 1, durability: 1, flight: 1, look: 1 };
    const display = {
      touch: document.getElementById("lv-touch"),
      durability: document.getElementById("lv-durability"),
      flight: document.getElementById("lv-flight"),
      look: document.getElementById("lv-look")
    };
    let soundOn = true;

    function loadSaved() {
      localStorage.removeItem("kombo_skills");
      kcoin = 450;
      skills.touch = skills.durability = skills.flight = skills.look = 1;
      for (let key in skills) updateDisplay(key);
    }

    function saveState() {
      localStorage.setItem("kombo_skills", JSON.stringify({ kcoin, skills }));
    }

    function playSound() {
      if (soundOn) document.getElementById("clickSound").play();
    }

    function upgrade(skill) {
      if (skills[skill] < maxLevel && kcoin >= 10) {
        skills[skill] += 0.5;
        kcoin += 10;
        playSound();
        updateDisplay(skill);
        saveState();
      }
    }

    function downgrade(skill) {
      if (skills[skill] > 1) {
        skills[skill] -= 0.5;
        kcoin -= 10;
        playSound();
        updateDisplay(skill);
        saveState();
      }
    }

    function updateDisplay(skill) {
      document.getElementById("kcoin").textContent = kcoin;
      display[skill].textContent = skills[skill] >= maxLevel ? "å·²æ»¿ç­‰" : "Lv." + skills[skill];
      document.getElementById("up-" + skill).disabled = (skills[skill] >= maxLevel || kcoin < 10);
      checkProductMatch();
    }

    // === ä¸»è¦æ”¹å‹•ï¼šæ¨è–¦ç”¢å“é‚è¼¯ ===
    function checkProductMatch() {
      const p = document.getElementById("productDisplay");
      p.innerHTML = "";

      // 7 æ¬¾ç”¢å“è³‡æ–™é™£åˆ—ï¼ŒåŒ…å«ï¼šé–€æª»æŠ€èƒ½èˆ‡åƒ¹æ ¼
      const products = [
        {
          name: "K7pro",
          price: 480,
          touch: 2,
          durability: 4,
          flight: 2,
          look: 2,
          image: "K7PRO.jpg",
          desc: "é¸ç”¨ä¸€ã€äºŒç´šåˆºéª¨å£“æ½”ç™½æ¯›ç‰‡ï¼Œç‰¹é¸éƒ¨ä½åŠè† æ°´ï¼Œè€æ‰“åº¦æ›´ä¸Šä¸€éšã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "KC",
          price: 560,
          touch: 4,
          durability: 3,
          flight: 4,
          look: 2,
          image: "KC.jpg",
          desc: "ä½¿ç”¨å¤©ç„¶äº”ç´šéµæ¯›ï¼Œæ­é…è¤‡åˆå¼è† æ°´ï¼Œç©©å®šè€æ‰“ã€å¥½æ§çƒã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "K5",
          price: 595,
          touch: 4,
          durability: 3.5,
          flight: 3.5,
          look: 2,
          image: "K5.jpg",
          desc: "æ¯›æ¡¿ Q å½ˆã€ç¾½ç¿¼åšå¯¦çš„ä¸‰ç´šé´¨æ¯›ï¼Œæ­é…ç‰¹èª¿è† æ°´ï¼Œé£›è¡Œç©©å®šã€æ€§åƒ¹æ¯”é«˜ã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "K5A",
          price: 630,
          touch: 4,
          durability: 4,
          flight: 3.5,
          look: 3,
          image: "K5A.jpg",
          desc: "é´¨æ¯›è³ªé‡ç©©å®šï¼Œé£›è¡Œç©©å®šåˆå…¼é¡§æ‰‹æ„Ÿï¼ŒCP å€¼å„ªç•°ã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "K5+",
          price: 635,
          touch: 4,
          durability: 4,
          flight: 4,
          look: 4,
          image: "K5+.jpg",
          desc: "é¸ç”¨å‹æ–¯èŠæ–¯é´¨ä¸‰ç´šæ¯›ç‰‡ï¼Œè€ç”¨ä¸”åƒ¹æ ¼è¦ªæ°‘ã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "K3",
          price: 720,
          touch: 5,
          durability: 5,
          flight: 4.5,
          look: 4.5,
          image: "K3.jpg",
          desc: "é¸ç”¨ä¸€ã€äºŒç´šåˆºéª¨é´¨æ¯›ï¼Œæ‰“æ„Ÿæ‰å¯¦ã€é£›è¡Œç©©å®šã€‚",
          link: "https://lin.ee/syEA7iU"
        },
        {
          name: "K3A",
          price: 720,
          touch: 5,
          durability: 5,
          flight: 5,
          look: 4,
          image: "K3A.jpg",
          desc: "ä¸‰ã€å››ç´šé´¨æ¯›ï¼Œæ­é…é«˜å›å¾©æ€§è† æ°´ï¼Œç©©å®šè€ç”¨ã€æ‰‹æ„Ÿå„ªç•°ã€‚",
          link: "https://lin.ee/syEA7iU"
        }
      ];

      // ä¾åºæª¢æŸ¥ï¼šåªè¦ã€ŒæŠ€èƒ½å››é …å…¨ â‰¥ è©²ç”¢å“é–€æª»ã€ æˆ– ã€Œkcoin â‰¥ è©²ç”¢å“åƒ¹æ ¼ã€ï¼Œå°±é¡¯ç¤º
      products.forEach(prod => {
        const matchSkill =
          skills.touch    >= prod.touch &&
          skills.durability >= prod.durability &&
          skills.flight   >= prod.flight &&
          skills.look     >= prod.look;

        const matchPrice = kcoin >= prod.price;

        if (matchSkill || matchPrice) {
          p.innerHTML += `
            <div class="product">
              <h3>ğŸ¯ é©åˆä½ çš„çƒï¼š${prod.name}</h3>
              <img src="${prod.image}" style="width:150px;border-radius:8px;" alt="${prod.name}"><br><br>
              <p><strong>å•†å“åç¨±ï¼š</strong>KOMBO ${prod.name}</p>
              <p>${prod.desc}</p>
              <p><strong>å”®åƒ¹ï¼š</strong>$${prod.price}/ç­’</p>
              <p>æ‰‹æ„Ÿ Lv.${prod.touch} ï½œ è€æ‰“ Lv.${prod.durability} ï½œ é£›è¡Œ Lv.${prod.flight} ï½œ å¤–è§€ Lv.${prod.look}</p>
              <a href="${prod.link}" target="_blank">å‰å¾€è³£å ´</a>
            </div>
          `;
        }
      });
    }

    function copyShareText() {
      const text = `æˆ‘åœ¨ KOMBO å‡ç´šæ¨¡æ“¬å™¨ä¸­é»å‡ºäº†ï¼š
æ‰‹æ„Ÿ Lv.${skills.touch}ã€è€æ‰“ Lv.${skills.durability}ã€é£›è¡Œ Lv.${skills.flight}ã€å¤–è§€ Lv.${skills.look}
ç¸½å…±èŠ±è²»ï¼š${kcoin} Kå¹£ï¼`;
      navigator.clipboard.writeText(text).then(() => alert("å·²è¤‡è£½åˆ†äº«å…§å®¹ï¼"));
    }

    function resetAll() {
      if (confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰æŠ€èƒ½èˆ‡èŠ±è²»ï¼Ÿ")) {
        kcoin = 450;
        skills.touch = skills.durability = skills.flight = skills.look = 1;
        for (let key in skills) updateDisplay(key);
        saveState();
      }
    }

    function toggleSound() {
      soundOn = !soundOn;
      alert("éŸ³æ•ˆå·² " + (soundOn ? "é–‹å•Ÿ" : "é—œé–‰"));
    }

    // æ§åˆ¶ã€ŒåŒæ„ã€â†’ éš±è— introModal
    function startGame() {
      alert("é€™æ˜¯ä¸€å ´æŠ€èƒ½çš„è©¦ç…‰â€”â€”å‡ºç™¼å§ï¼ŒKå¤§å¸«ï¼");
      document.getElementById("introModal").style.display = "none";
      loadSaved();
    }

    // åˆå§‹åŒ–ï¼ˆç›´æ¥è¼‰å…¥å°±æ¸…ç©ºä¸¦é¡¯ç¤ºåˆå§‹ç•«é¢ï¼‰
    loadSaved();
  </script>
</body>
</html>
